<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" class="anyflexbox boxshadow display-table">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="{{ title }} - {{ trans('ecomm::content.payment_order') }}" />
    <title>{{ title }} - {{ trans('ecomm::content.payment_order') }}</title>
    <link rel="shortcut icon" href="{{ upload_url(config('icon')) }}" type="image/x-icon" />
    <meta name="csrf-token" content="{{ csrf_token() }}">

    {# Original CSS references #}
    <link rel="stylesheet" href="{{ asset('jw-styles/plugins/juzaweb/ecommerce/assets/css/checkout.min.css') }}">
    <link rel="stylesheet" href="{{ asset('jw-styles/mojar/assets/libs/nprogress/nprogress.css') }}">

    {# Global JavaScript variables #}
    <script>
        var Juzaweb = Juzaweb || {};
        Juzaweb.store = '';
        Juzaweb.theme = {"id":606449,"role":"main","name":"{{ shop_name }}"}; 
        Juzaweb.template = '';
    </script>

    {# JS libraries #}
    <script src="{{ asset('jw-styles/mojar/assets/js/jquery-3.7.1.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('jw-styles/mojar/assets/js/twine.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('jw-styles/mojar/assets/libs/bootstrap/dist/js/bootstrap.min.js') }}"></script>
    <script src="{{ asset('jw-styles/mojar/assets/libs/jquery-validation/jquery.validate.min.js') }}"></script>

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="{{ asset('jw-styles/mojar/assets/libs/nprogress/nprogress.js') }}"></script>

    <script type="text/javascript">
        if (typeof Juzaweb == 'undefined') { Juzaweb = {}; }
        Juzaweb.Checkout = {};
        Juzaweb.Checkout.token = "{{ cart.token }}";
        Juzaweb.Checkout.apiHost = "";
        Juzaweb.Checkout.submitInProgress = false;
    </script>

    <meta name="robots" content="noindex, nofollow">

    {# --- START: Enhanced Checkout CSS Overrides --- #}
    <style>
    /*************************************************************
     * Enhanced Checkout CSS
     * Mobile-first layout, preserving existing classes/IDs.
     *************************************************************/

    /* 1) General resets & typography */
    html, body {
      margin: 0;
      padding: 0;
      font-family: "Helvetica Neue", Arial, sans-serif;
      line-height: 1.5;
      color: #333;
      background-color: #f9f9f9;
    }

    a {
      text-decoration: none;
      color: #0275d8;
    }
    a:hover {
      color: #025aa5;
    }

    /* 2) Wrapper & global spacing */
    .wrap {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }

    img {
      max-width: 100%;
      height: auto;
    }

    /* 3) Headings & section titles */
    .section__title,
    h2.section__title {
      font-size: 1.15rem;
      font-weight: 600;
      margin: 0 0 1rem;
      display: flex;
      align-items: center;
    }
    .section__title--icon {
      margin-right: 0.5rem;
    }

    /* 4) Container layout: sidebar vs main (desktop) */
    .sidebar,
    .main {
      width: 100%;
      margin-bottom: 1rem;
    }
    @media (min-width: 992px) {
      .sidebar,
      .main {
        display: inline-block;
        vertical-align: top;
      }
      .sidebar {
        width: 33%;
        padding-right: 1rem;
      }
      .main {
        width: 65%;
        padding-left: 1rem;
      }
    }

    /* 5) Sidebar styling */
    .sidebar {
      background-color: #fff;
      border: 1px solid #e3e3e3;
      border-radius: 4px;
      padding: 1rem;
    }
    .sidebar_header h2 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }
    hr.full_width {
      margin: 0.5rem 0 1rem;
    }
    .order-summary--product-list table.product-table {
      width: 100%;
      border-collapse: collapse;
    }
    .product.product-has-image {
      border-bottom: 1px solid #eee;
      padding: 0.75rem 0;
      position: relative;
    }
    .product-thumbnail__wrapper img {
      border-radius: 4px;
    }
    .product-thumbnail__quantity {
      background: #777;
      color: #fff;
      font-size: 0.75rem;
      padding: 2px 6px;
      border-radius: 50%;
      position: absolute;
      top: 0;
      left: 50px; /* Adjust as desired */
    }

    /* 6) Discount code & totals */
    .order-summary--discount {
      margin-top: 1rem;
    }
    .discount_code {
      height: 2.4rem;
      font-size: 0.9rem;
      margin-right: 0.5rem;
    }
    .btn.event-voucher-apply {
      font-size: 0.9rem;
    }

    .total-line {
      margin: 0.5rem 0;
      font-size: 0.95rem;
    }
    .total-line-name {
      color: #666;
    }
    .total-line-price,
    .total-line-shipping,
    .total-line-subprice {
      font-weight: 600;
    }
    .total-line-total {
      font-size: 1rem;
      border-top: 1px solid #ddd;
      padding-top: 0.75rem;
    }

    /* Buttons in sidebar (desktop) */
    .field__input-btn-wrapper.mt10 {
      margin-top: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .previous-link {
      font-size: 0.9rem;
      color: #666;
    }
    .previous-link i {
      margin-right: 0.25rem;
    }
    .btn.btn-primary.btn-checkout {
      background-color: #0275d8;
      color: #fff;
      border: none;
      font-size: 0.95rem;
      padding: 0.6rem 1.2rem;
      border-radius: 4px;
      cursor: pointer;
    }
    .btn.btn-primary.btn-checkout:hover {
      background-color: #025aa5;
    }

    /* 7) Main content area */
    .main_header,
    .main_footer {
      margin-bottom: 1rem;
    }
    .main_header .logo {
      margin-bottom: 1rem;
    }
    .main_content .row {
      display: flex;
      flex-wrap: wrap;
      margin: 0 -0.5rem;
    }
    .col-md-6,
    .col-lg-6 {
      width: 100%;
      padding: 0 0.5rem;
    }
    @media (min-width: 768px) {
      .col-md-6 {
        width: 50%;
      }
    }
    @media (min-width: 992px) {
      .col-lg-6 {
        width: 50%;
      }
    }

    /* 8) Form elements & sections */
    .section {
      background-color: #fff;
      border: 1px solid #e3e3e3;
      border-radius: 4px;
      margin-bottom: 1rem;
      padding: 1rem;
    }
    .field__label {
      font-size: 0.875rem;
      margin-bottom: 0.25rem;
      display: inline-block;
      color: #666;
    }
    .field__input-wrapper {
      display: block;
      margin-bottom: 1rem;
    }
    .field__input {
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 4px;
      height: 2.6rem;
      padding: 0.5rem;
      font-size: 0.9rem;
      color: #333;
    }
    .field__input--select {
      appearance: none;
      background: #fff url("data:image/svg+xml;charset=UTF-8,<svg fill='%23999' ...>") no-repeat right 0.75rem center/1em;
    }
    .field__input:focus {
      outline: none;
      border-color: #0275d8;
    }
    .form-group.has-error .field__input {
      border-color: #d9534f;
    }
    .help-block.with-errors {
      color: #d9534f;
      font-size: 0.85rem;
    }

    /* 9) Payment & shipping method blocks */
    .payment-methods .content-box {
      border: 1px solid #ddd;
      margin-bottom: 1rem;
      border-radius: 4px;
    }
    .radio-wrapper {
      display: flex;
      align-items: center;
      padding: 0.75rem;
    }
    .radio__input {
      margin-right: 0.5rem;
    }
    .radio__label__primary {
      font-weight: 600;
    }
    .payment-icon-fa {
      font-size: 1.2rem;
      margin-left: 0.25rem;
    }
    .content-box__row--secondary {
      background: #fafafa;
      padding: 1rem;
      border-top: 1px solid #ddd;
      font-size: 0.9rem;
    }

    /* 10) Hide/show elements */
    .hide {
      display: none !important;
    }
    .visible-small-device {
      display: none;
    }
    .hidden-small-device {
      display: inline-block;
    }
    @media (max-width: 767px) {
      .visible-small-device {
        display: inline-block !important;
      }
      .hidden-small-device {
        display: none !important;
      }
    }

    /* 11) Mobile “Order” button at bottom */
    .section.hidden-md.hidden-lg .btn.btn-primary.btn-checkout {
      width: 100%;
      margin-top: 1rem;
    }

    /* 12) Footer spacing */
    .main_footer.footer.unprint {
      margin-top: 2rem;
      text-align: center;
      font-size: 0.8rem;
      color: #999;
    }
    </style>
    {# --- END: Enhanced Checkout CSS Overrides --- #}
</head>

<body class="body--custom-background-color ">
<div class="banner" data-header="">
    <div class="wrap">
        <div class="shop logo logo--left ">
            <h1 class="shop__name">
                <a href="/">
                    {{ title }}
                </a>
            </h1>
        </div>
    </div>
</div>

<button class="order-summary-toggle" bind-event-click="Juzaweb.StoreCheckout.toggleOrderSummary(this)">
    <div class="wrap">
        <h2>
            <label class="control-label">{{ trans('ecomm::content.order') }}</label>
            <label class="control-label hidden-small-device">
                ({{ cart.item_count }} {{ trans('ecomm::content.products') }})
            </label>
            <label class="control-label visible-small-device inline">
                ({{ cart.item_count }})
            </label>
        </h2>
        <a class="underline-none expandable pull-right" href="javascript:void(0)">
            {{ trans('ecomm::content.view_detail') }}
        </a>
    </div>
</button>

<div context="paymentStatus" define='{ paymentStatus: new Juzaweb.PaymentStatus(this,{payment_processing:"",payment_provider_id:"",payment_info:{} }) }'>
</div>

<form
    method="post"
    action="{{ route('ajax', ['checkout']) }}"
    data-toggle="validator"
    class="content stateful-form formCheckout"
>
    {{ csrf_field() }}

    <div class="wrap" context="checkout" define='{checkout: new Juzaweb.StoreCheckout(this,{ token: "{{ cart.token }}", email: "{{ user.email }}", totalOrderItemPrice: "{{ cart.total_price|default('$0') }}", shippingFee: 0, freeShipping: false, requiresShipping: {{ requires_shipping ? 'true' : 'false' }}, existCode: false, code: "", discount: 0, settingLanguage: "vi", moneyFormat: "", discountLabel: "{{ trans('ecomm::content.free') }}", districtPolicy: "optional", wardPolicy: "hidden", district: "", ward: "", province:"", otherAddress: false, shippingId: 0, shippingMethods: {}, customerAddressId: 0, reductionCode: "" })}'>
        <div class='sidebar '>
            <div class="sidebar_header">
                <h2>
                    <label class="control-label">
                        {{ trans('ecomm::content.order') }}
                        ({{ cart.item_count }} {{ trans('ecomm::content.products') }})
                    </label>
                </h2>
                <hr class="full_width"/>
            </div>
            <div class="sidebar__content">
                <div class="order-summary order-summary--product-list order-summary--is-collapsed">
                    <div class="summary-body summary-section summary-product">
                        <div class="summary-product-list">
                            <table class="product-table">
                                <tbody>
                                {% for item in cart.items %}
                                    <tr class="product product-has-image clearfix">
                                        <td>
                                            <div class="product-thumbnail">
                                                <div class="product-thumbnail__wrapper">
                                                    <img src="{{ upload_url(item.thumbnail) }}" class="product-thumbnail__image" alt="" />
                                                </div>
                                                <span class="product-thumbnail__quantity" aria-hidden="true">{{ item.quantity }}</span>
                                            </div>
                                        </td>
                                        <td class="product-info">
                                            <span class="product-info-name">
                                                {{ item.title }}
                                            </span>
                                        </td>
                                        <td class="product-price text-right">
                                            {{ item.line_price }}
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                            <div class="order-summary__scroll-indicator">
                                {{ trans('ecomm::content.scroll_mouse_to_view_more') }}
                                <i class="fa fa-long-arrow-down" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                    <hr class="m0"/>
                </div>

                <div class="order-summary order-summary--discount">
                    <div class="summary-section">
                        <div class="form-group m0" bind-show="!existCode || !applyWithPromotion || code == null || !code.length">
                            <div class="field__input-btn-wrapper">
                                <div class="field__input-wrapper">
                                    <input bind="code"
                                           name="code"
                                           type="text"
                                           class="form-control discount_code"
                                           placeholder="{{ trans('ecomm::content.enter_discount_code') }}"
                                           value=""
                                           id="checkout_reduction_code"/>
                                </div>
                                <button bind-event-click="reduction_code = false, caculateShippingFee('')" class="btn btn-primary event-voucher-apply" type="button">
                                    {{ trans('ecomm::content.apply') }}
                                </button>
                            </div>
                        </div>
                        <div bind-class="{'warning' : existCode && !freeShipping && discount == 0,'success' : existCode && ( freeShipping || discount >0 )}"
                             class="clearfix hide"
                             bind-show="code!= null && code.length && existCode && applyWithPromotion">
                            <div class="pull-left">
                                <i class="fa fa-check applied-discount-status-success" aria-hidden="true"></i>
                                <i class="fa fa-exclamation-triangle applied-discount-status-warning" aria-hidden="true"></i>
                            </div>
                            <div bind="code" class="pull-left applied-discount-code"></div>
                            <div bind="(discountShipping && freeShipping) ? '{{ trans('ecomm::content.free') }}' : discount" class="pull-right">
                                0
                            </div>
                            <input bind-event-click="removeCode('')" class="btn btn-delete" type="button" value="×" name="commit">
                        </div>
                        <div class="error mt10 hide" bind-show="inValidCode">
                            {{ trans('ecomm::content.discount_code_is_not_valid') }}
                        </div>
                        <div class="error mt10 hide" bind-show="!applyWithPromotion && existCode">
                        </div>
                    </div>
                    <hr class="m0"/>
                </div>

                <div class="order-summary order-summary--total-lines">
                    <div class="summary-section border-top-none--mobile">
                        <div class="total-line total-line-subtotal clearfix">
                            <span class="total-line-name pull-left">
                                {{ trans('ecomm::content.total_price') }}
                            </span>
                            <span bind="totalOrderItemPrice" class="total-line-subprice pull-right">
                                {{ cart.total_line_price }}
                            </span>
                        </div>
                        <div class="total-line total-line-shipping clearfix" bind-show="requiresShipping">
                            <span class="total-line-name pull-left">
                                {{ trans('ecomm::content.shipping_fee') }}
                            </span>
                            <span bind="shippingFee !=  0 ? shippingFee : ((requiresShipping && shippingMethods.length == 0) ? 'This area does not support transportation': '{{ trans('ecomm::content.free') }}')"
                                  class="total-line-shipping pull-right">
                                {{ trans('ecomm::content.free') }}
                            </span>
                        </div>
                        <div class="total-line total-line-total clearfix">
                            <span class="total-line-name pull-left">
                                {{ trans('ecomm::content.total') }}
                            </span>
                            <span bind="totalPrice" class="total-line-price pull-right">
                                {{ cart.total_price }}
                            </span>
                        </div>
                    </div>
                </div>

                <div class="form-group clearfix hidden-sm hidden-xs">
                    <div class="field__input-btn-wrapper mt10">
                        <a class="previous-link" href="/cart">
                            <i class="fa fa-angle-left fa-lg" aria-hidden="true"></i>
                            <span>{{ trans('ecomm::content.back_to_cart') }}</span>
                        </a>
                        <input class="btn btn-primary btn-checkout"
                               type="button"
                               value="{{ trans('ecomm::content.order') }}"
                               data-loading-text="{{ trans('ecomm::content.processing') }}"
                               bind-event-click="submitCheckout()" />
                    </div>
                </div>

                <div class="form-group has-error">
                    <div class="help-block">
                        <ul class="list-unstyled"></ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="main" role="main">
            <div class="main_header">
                <div class="shop logo logo--left">
                    <h1 class="shop__name">
                        <a href="/">
                            {{ config('sitename') }}
                        </a>
                    </h1>
                </div>
            </div>

            <div class="main_content">
                <div class="row">
                    <div class="col-md-6 col-lg-6">
                        <div class="section" define="{billing_address: {}}">
                            <div class="section__header">
                                <div class="layout-flex layout-flex--wrap">
                                    <h2 class="section__title layout-flex__item layout-flex__item--stretch">
                                        <i class="fa fa-id-card-o fa-lg section__title--icon hidden-md hidden-lg" aria-hidden="true"></i>
                                        <label class="control-label">{{ trans('ecomm::content.information') }}</label>
                                    </h2>
                                    {% if guest %}
                                        <a class="layout-flex__item section__title--link" href="{{ route('login') }}?redirect=/{{ url().current() }}">
                                            <i class="fa fa-user-circle-o fa-lg" aria-hidden="true"></i>
                                            {{ trans('ecomm::content.login') }}
                                        </a>
                                    {% endif %}
                                </div>
                            </div>
                            <div class="section__content">
                                <div class="form-group" bind-class="{'has-error' : invalidEmail}">
                                    <div>
                                        <label class="field__input-wrapper" bind-class="{ 'js-is-filled': email }">
                                            <span class="field__label" bind-event-click="handleClick(this)">
                                                {{ trans('ecomm::content.email') }}
                                            </span>
                                            <input name="email"
                                                   type="email"
                                                   {% if guest %}
                                                       bind-event-change="changeEmail()"
                                                       bind-event-focus="handleFocus(this)"
                                                       bind-event-blur="handleFieldBlur(this)"
                                                       pattern="^([a-zA-Z0-9_\-\.\+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$"
                                                   {% endif %}
                                                   bind="email"
                                                   class="field__input form-control"
                                                   id="_email"
                                                   data-error="{{ trans('ecomm::content.email_is_malformed') }}"
                                                   required
                                                   value="{{ user.email }}"
                                                   {% if auth %} disabled {% endif %} />
                                        </label>
                                    </div>
                                    <div class="help-block with-errors"></div>
                                </div>

                                <div class="billing">
                                    <div>
                                        <div class="form-group">
                                            <div class="field__input-wrapper" bind-class="{ 'js-is-filled': billing_address.full_name }">
                                                <span class="field__label" bind-event-click="handleClick(this)">
                                                    {{ trans('ecomm::content.full_name') }}
                                                </span>
                                                <input name="name"
                                                       type="text"
                                                       bind-event-change="saveAbandoned()"
                                                       bind-event-focus="handleFocus(this)"
                                                       bind-event-blur="handleFieldBlur(this)"
                                                       class="field__input form-control"
                                                       id="_billing_address_last_name"
                                                       data-error="{{ trans('ecomm::content.please_enter_full_name') }}"
                                                       required
                                                       bind="billing_address.full_name"
                                                       autocomplete="off"
                                                       value="{{ user.name }}"
                                                       {% if auth %} disabled {% endif %} />
                                            </div>
                                            <div class="help-block with-errors"></div>
                                        </div>
                                        <div class="form-group">
                                            <div class="field__input-wrapper" bind-class="{ 'js-is-filled': billing_address.phone }">
                                                <span class="field__label" bind-event-click="handleClick(this)">
                                                    {{ trans('ecomm::content.phone') }}
                                                </span>
                                                <input name="phone"
                                                       bind-event-change="saveAbandoned()"
                                                       type="tel"
                                                       bind-event-focus="handleFocus(this)"
                                                       bind-event-blur="handleFieldBlur(this)"
                                                       class="field__input form-control"
                                                       id="_billing_address_phone"
                                                       data-error="{{ trans('ecomm::content.please_enter_full_phone') }}"
                                                       pattern="^([0-9,\+,\-,\(,\),\.]{8,20})$"
                                                       bind="billing_address.phone"
                                                       value="{{ user.phone }}"
                                                       {% if auth %} disabled {% endif %} />
                                            </div>
                                            <div class="help-block with-errors"></div>
                                        </div>

                                        {# "order_address.twig" include #}
                                        {% include 'ecomm::frontend.checkout.components.order_address' %}
                                    </div>
                                </div>
                            </div>
                        </div>

                        {# "shipping_to_other_address.twig" include #}
                        {% include 'ecomm::frontend.checkout.components.shipping_to_other_address' %}

                        <div class="section" bind-class="{ 'pt0': otherAddress, 'pt10': !otherAddress}">
                            <div class="section__content">
                                <div class="form-group m0">
                                    <div>
                                        <label class="field__input-wrapper" bind-class="{'js-is-filled': note}" style="border: none">
                                            <span class="field__label" bind-event-click="handleClick(this)">
                                                {{ trans('ecomm::content.note') }}
                                            </span>
                                            <textarea name="notes"
                                                      bind-event-change="saveAbandoned()"
                                                      bind-event-focus="handleFocus(this)"
                                                      bind-event-blur="handleFieldBlur(this)"
                                                      bind="note"
                                                      class="field__input form-control m0">
                                            </textarea>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 col-lg-6">
                        <div class="section shipping-method hide" bind-show="shippingMethodsLoading || shippingMethods.length > 0">
                            <div class="section__header">
                                <h2 class="section__title">
                                    <i class="fa fa-truck fa-lg section__title--icon hidden-md hidden-lg" aria-hidden="true"></i>
                                    <label class="control-label">{{ trans('ecomm::content.shipping') }}</label>
                                </h2>
                            </div>
                            <div class="section__content">
                                <div class="wait-loading-shipping-methods hide" bind-show="shippingMethodsLoading" style="margin-bottom:10px">
                                    <div class="next-spinner">
                                        <svg class="icon-svg icon-svg--color-accent icon-svg--size-32 icon-svg--spinner">
                                            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#next-spinner"></use>
                                        </svg>
                                    </div>
                                </div>
                                <div class="content-box" bind-show="!shippingMethodsLoading && shippingMethods.length > 0">
                                    {# Shipping methods can be rendered here #}
                                </div>
                            </div>
                        </div>

                        <div class="section payment-methods" bind-class="{'p0--desktop': shippingMethods.length == 0}">
                            <div class="section__header">
                                <h2 class="section__title">
                                    <i class="fa fa-credit-card fa-lg section__title--icon hidden-md hidden-lg" aria-hidden="true"></i>
                                    <label class="control-label">{{ trans('ecomm::content.payment') }}</label>
                                </h2>
                            </div>
                            <div class="section__content">
                                {# "payment_methods.twig" include #}
                                {% include 'ecomm::frontend.checkout.components.payment_methods' %}
                            </div>
                        </div>

                        <div class="section hidden-md hidden-lg">
                            <div class="form-group clearfix m0">
                                <input class="btn btn-primary btn-checkout"
                                       data-loading-text="Đang xử lý"
                                       type="button"
                                       bind-event-click="paymentCheckout('AIzaSyAjQYbV19v7UMDVk0cDZ54yKh3OP1hQhbk;AIzaSyCLd-YkfOzBXlNGfS_FNLnpolyME1tRAJI;AIzaSyDdvilzaJlb50t2IRC3PrfSb1lNzf6n3pQ')"
                                       value="{{ trans('ecomm::content.order') }}" />
                            </div>
                            <div class="text-center mt20">
                                <a class="previous-link" href="/cart">
                                    <i class="fa fa-angle-left fa-lg" aria-hidden="true"></i>
                                    <span>{{ trans('ecomm::content.back_to_cart') }}</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="main_footer footer unprint">
                <div class="mt10"></div>
            </div>

            {# MODALS #}
            <div class="modal fade" id="refund-policy" data-width="" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                            <h4 class="modal-title">{{ trans('ecomm::content.refund_policy') }}</h4>
                        </div>
                        <div class="modal-body">
                            <pre></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="privacy-policy" data-width="" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                            <h4 class="modal-title">{{ trans('ecomm::content.privacy_policy') }}</h4>
                        </div>
                        <div class="modal-body">
                            <pre></pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="terms-of-service" data-width="" tabindex="-1" role="dialog">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
                            <h4 class="modal-title">{{ trans('ecomm::content.terms_of_service') }}</h4>
                        </div>
                        <div class="modal-body">
                            <pre></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<div id="icon-symbols" style="display: none;">
    <svg xmlns="http://www.w3.org/2000/svg">
        <symbol id="spinner-large">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-270 364 66 66">
                <path d="M-237 428c-17.1 0-31-13.9-31-31s13.9-31 31-31v-2c-18.2 0-33 14.8-33 33s14.8 33 33 33 33-14.8 33-33h-2c0 17.1-13.9 31-31 31z"/>
            </svg>
        </symbol>
        <symbol id="chevron-right">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10">
                <path d="M2 1l1-1 4 4 1 1-1 1-4 4-1-1 4-4"/>
            </svg>
        </symbol>
        <symbol id="success">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm3.784-13.198c.386-.396 1.02-.404 1.414-.018.396.386.404 1.02.018 1.414l-5.85 6c-.392.403-1.04.403-1.432 0l-3.15-3.23c-.386-.396-.378-1.03.018-1.415.395-.385 1.028-.377 1.414.018l2.434 2.5 5.134-5.267z"/>
            </svg>
        </symbol>
        <symbol id="arrow">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
                <path d="M16 8.1l-8.1 8.1-1.1-1.1L13 8.9H0V7.3h13L6.8 1.1 7.9 0 16 8.1z"/>
            </svg>
        </symbol>
        <symbol id="spinner-button">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <path d="M20 10c0 5.523-4.477 10-10 10S0 15.523 0 10 4.477 0 10 0v2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8h2z"/>
            </svg>
        </symbol>
        <symbol id="next-spinner">
            <svg preserveAspectRatio="xMinYMin">
                <circle class="next-spinner__ring" cx="50%" cy="50%" r="45%"></circle>
            </svg>
        </symbol>
    </svg>
</div>

<script>var code_langs = {'choose_province': '{{ trans('ecomm::content.choose_province') }}'};</script>

<script type="text/javascript">
    $(document).ajaxStart(function () {
        NProgress.start();
    });
    $(document).ajaxComplete(function () {
        NProgress.done();
    });

    context = {};

    $(function () {
        Twine.reset(context).bind().refresh();
    });

    $(document).ready(function () {
        var $select2 = $('.filter-dropdown').select2({
            containerCssClass: 'field__input',
            dropdownCssClass: 'field__input',
            dropdownParent: $('.main_content'),
            language: {
                noResults: function () { return "{{ trans('ecomm::content.no_results') }}" },
                searching: function () { return "{{ trans('ecomm::content.searching') }}…" }
            }
        });

        setTimeout(function() {
            Twine.context(document.body).checkout.calculateFeeAndSave('');
        }, 50);
    });
</script>

<script src="{{ asset('jw-styles/plugins/juzaweb/ecommerce/assets/js/checkout.js') }}"></script>
</body>
</html>
